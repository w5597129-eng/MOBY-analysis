# MOBY-analysis

**Model Training, Analysis & Development for MOBY Industrial Anomaly Detection System**

MOBY í”„ë¡œì íŠ¸ì˜ ë¶„ì„ ë° ëª¨ë¸ ê°œë°œ ë ˆí¬ì§€í† ë¦¬ì…ë‹ˆë‹¤. íšŒì „ ê¸°ê³„ ë° ì»¨ë² ì´ì–´ ë²¨íŠ¸ ëª¨ë‹ˆí„°ë§ì„ ìœ„í•œ ì„¼ì„œ ë°ì´í„° ì „ì²˜ë¦¬, íŠ¹ì§• ì¶”ì¶œ, ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ í•™ìŠµì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

---

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ì„¤ì¹˜ ë° í™˜ê²½ ì„¤ì •](#-ì„¤ì¹˜-ë°-í™˜ê²½-ì„¤ì •)
- [ì‚¬ìš© ê°€ì´ë“œ](#-ì‚¬ìš©-ê°€ì´ë“œ)
- [ëª¨ë¸ ì•„í‚¤í…ì²˜](#-ëª¨ë¸-ì•„í‚¤í…ì²˜)
- [íŠ¹ì§• ì¶”ì¶œ](#-íŠ¹ì§•-ì¶”ì¶œ)
- [ì„±ëŠ¥ ìµœì í™”](#-ì„±ëŠ¥-ìµœì í™”)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ê´€ë ¨ ë ˆí¬ì§€í† ë¦¬](#-ê´€ë ¨-ë ˆí¬ì§€í† ë¦¬)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

MOBY-analysisëŠ” ì‚°ì—… ì„¤ë¹„ì˜ ì´ìƒ íƒì§€ë¥¼ ìœ„í•œ ë°ì´í„° ë¶„ì„ ë° ML íŒŒì´í”„ë¼ì¸ì„ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ëª©í‘œ
- **ì‹¤ì‹œê°„ ì´ìƒ íƒì§€**: 10ì´ˆ ìœˆë„ìš°, 5ì´ˆ ìŠ¬ë¼ì´ë“œë¡œ ì¤€ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- **ë‹¤ì¤‘ ì´ìƒ ìœ í˜• ë¶„ë¥˜**: MLP ê¸°ë°˜ ì•Œë ¤ì§„ ì´ìƒ(speed fluctuating, unbalance) íƒì§€
- **ë¯¸ì§€ì˜ ì´ìƒ íƒì§€**: Isolation Forest ê¸°ë°˜ novelty detection
- **ì—£ì§€ ë°°í¬ ìµœì í™”**: ONNX ë³€í™˜ì„ í†µí•œ Raspberry Pi 4 ë°°í¬

### ëŒ€ìƒ ì‚¬ìš©ì
- ë°ì´í„° ë¶„ì„ê°€ / ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸
- ML ì—”ì§€ë‹ˆì–´
- ì‚°ì—… ì„¤ë¹„ ëª¨ë‹ˆí„°ë§ ì—°êµ¬ì›

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MOBY Ecosystem                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  moby-edge   â”‚      â”‚ MOBY-Backend â”‚      â”‚  Moby-web    â”‚ â”‚
â”‚  â”‚              â”‚â”€â”€â”€â”€â”€â–¶â”‚              â”‚â”€â”€â”€â”€â”€â–¶â”‚              â”‚ â”‚
â”‚  â”‚ Raspberry Pi â”‚      â”‚   FastAPI    â”‚      â”‚  Dashboard   â”‚ â”‚
â”‚  â”‚   (ì¶”ë¡ )     â”‚      â”‚   Server     â”‚      â”‚    (React)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â–²                                                       â”‚
â”‚         â”‚                                                       â”‚
â”‚         â”‚ ONNX Models                                          â”‚
â”‚         â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              MOBY-analysis (This Repo)                    â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚   Feature   â”‚  â”‚    Model    â”‚  â”‚  ONNX Conversion â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Extraction  â”‚â”€â–¶â”‚  Training   â”‚â”€â–¶â”‚   & Export       â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚         â–²                                                  â”‚ â”‚
â”‚  â”‚         â”‚                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚ â”‚
â”‚  â”‚  â”‚  InfluxDB    â”‚                                         â”‚ â”‚
â”‚  â”‚  â”‚ (ì„¼ì„œ ë°ì´í„°) â”‚                                         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

1. **ë°ì´í„° ìˆ˜ì§‘** (moby-edge)
   - Raspberry Pi 4ì—ì„œ ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ (ê°€ì†ë„ê³„, ìì´ë¡œìŠ¤ì½”í”„, ì••ë ¥, ì˜¨ë„)
   - InfluxDBì— ì‹œê³„ì—´ ë°ì´í„° ì €ì¥

2. **íŠ¹ì§• ì¶”ì¶œ ë° ëª¨ë¸ í•™ìŠµ** (MOBY-analysis, ì´ ë ˆí¬)
   - InfluxDB CSV ì½ê¸° ë° ì „ì²˜ë¦¬
   - 10ì´ˆ ìœˆë„ìš°, 5ì´ˆ ì˜¤ë²„ë© ê¸°ë°˜ íŠ¹ì§• ì¶”ì¶œ
   - MLP / Isolation Forest ëª¨ë¸ í•™ìŠµ
   - ONNX í¬ë§·ìœ¼ë¡œ ë³€í™˜

3. **ì—£ì§€ ì¶”ë¡ ** (moby-edge)
   - ONNX Runtimeì„ ì‚¬ìš©í•œ ì‹¤ì‹œê°„ ì¶”ë¡ 
   - ì´ìƒ íƒì§€ ê²°ê³¼ë¥¼ ë°±ì—”ë“œë¡œ ì „ì†¡

4. **ì‹œê°í™” ë° ëª¨ë‹ˆí„°ë§** (MOBY-Backend, Moby-web)
   - ëŒ€ì‹œë³´ë“œë¥¼ í†µí•œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

---

## âš¡ ì£¼ìš” ê¸°ëŠ¥

### 1. íŠ¹ì§• ì¶”ì¶œ íŒŒì´í”„ë¼ì¸
- **ì„¼ì„œë³„ ìµœì í™”**: í•„ìš”í•œ íŠ¹ì§•ë§Œ ì¶”ì¶œ (77ê°œ â†’ 15ê°œë¡œ 83% ê°ì†Œ)
- **PCA ê¸°ë°˜ ì°¨ì› ì¶•ì†Œ**: 3ì¶• ë°ì´í„°ë¥¼ ì£¼ì„±ë¶„ìœ¼ë¡œ ë³€í™˜
- **FFT ì¬ì‚¬ìš© ìµœì í™”**: ì£¼íŒŒìˆ˜ ë„ë©”ì¸ íŠ¹ì§• ê³„ì‚° ì‹œ FFT í˜¸ì¶œ 83% ê°ì†Œ
- **ë²¡í„° ìŠ¤ì¹¼ë¼í™”**: 3ì¶• ì§„ë™/ê°ì†ë„ë¥¼ ì˜ë¯¸ìˆëŠ” ìŠ¤ì¹¼ë¼ íŠ¹ì§•ìœ¼ë¡œ ë³€í™˜

### 2. í•˜ì´ë¸Œë¦¬ë“œ ì´ìƒ íƒì§€
- **MLP Classifier**: ì•Œë ¤ì§„ ì´ìƒ ìœ í˜• ë‹¤ì¤‘ ë ˆì´ë¸” ë¶„ë¥˜
  - Speed fluctuating (ì†ë„ ë³€ë™)
  - Unbalance (ë¶ˆê· í˜•)
  - 2ì°¨ì› ì´ìƒë„ ë²¡í„° ì¶œë ¥
  
- **Isolation Forest**: ë¯¸ì§€ì˜ ì´ìƒ(novelty) íƒì§€
  - ì •ìƒ ë°ì´í„°ë¡œë§Œ í•™ìŠµ
  - í•™ìŠµë˜ì§€ ì•Šì€ ìƒˆë¡œìš´ ì´ìƒ íŒ¨í„´ íƒì§€

### 3. ì—£ì§€ ë°°í¬ ì§€ì›
- **ONNX ë³€í™˜**: PyTorch ëª¨ë¸ì„ ONNXë¡œ ë³€í™˜
- **ë©”ëª¨ë¦¬ ìµœì í™”**: Raspberry Pi 4 (8GB RAM) í™˜ê²½ ìµœì í™”
- **ì¶”ë¡  ì†ë„**: 2-3ë°° ë¹ ë¥¸ ì¶”ë¡  ì„±ëŠ¥

### 4. ìë™í™”ëœ ë³´ê³ ì„œ ìƒì„±
- **Gemini 2.5 Flash API** ê¸°ë°˜ ì£¼ê°„ ë³´ê³ ì„œ ìƒì„±
- ì„¼ì„œ í†µê³„, ì´ìƒ íƒì§€ ê²°ê³¼, ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­ ìë™ ìƒì„±

---

## ğŸ›  ì„¤ì¹˜ ë° í™˜ê²½ ì„¤ì •

### ìš”êµ¬ì‚¬í•­
- Python 3.10+
- CUDA ì§€ì› GPU (ì„ íƒì‚¬í•­, CPUë„ ê°€ëŠ¥)

### ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# ë ˆí¬ì§€í† ë¦¬ í´ë¡ 
git clone https://github.com/your-org/MOBY-analysis.git
cd MOBY-analysis

# ê°€ìƒí™˜ê²½ ìƒì„± (ê¶Œì¥)
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install -r requirements.txt
```

### ì£¼ìš” ì˜ì¡´ì„±
```
numpy>=1.24.0
pandas>=2.0.0
scikit-learn>=1.3.0
scipy>=1.11.0
torch>=2.0.0
onnx>=1.14.0
onnxruntime>=1.15.0
matplotlib>=3.7.0
google-generativeai>=0.3.0  # ë³´ê³ ì„œ ìƒì„±ìš©
```

---

## ğŸ“š ì‚¬ìš© ê°€ì´ë“œ

### 1. íŠ¹ì§• ì¶”ì¶œ

```python
# feature_extraction.ipynb ë˜ëŠ”
python -c "from src import feature_extractor as fe; ..."
```

**ì…ë ¥**: InfluxDB CSV íŒŒì¼
```
data/raw/1120 sensor_data/
â”œâ”€â”€ 1120_accel_gyro_normal.csv
â””â”€â”€ 1120_pressure_normal.csv
```

**ì¶œë ¥**: íŠ¹ì§• ë²¡í„° CSV
```
data/processed/1120_features.csv
```

**íŠ¹ì§• êµ¬ì„±** (ì´ 15ê°œ):
- **ê°€ì†ë„** (9ê°œ): VectorRMS, PC1_PeakToPeak, VectorCrestFactor, PC1_DominantFreq, PC1_RMSF, PC1_VarianceRatio, PC1_Direction_X/Y/Z
- **ê°ì†ë„** (4ê°œ): VectorRMS, STD_X/Y/Z
- **í™˜ê²½** (2ê°œ): Pressure_Mean, Temperature_Mean

### 2. MLP ëª¨ë¸ í•™ìŠµ

```bash
# Jupyter Notebook ì‚¬ìš©
jupyter notebook train_mlp.ipynb
```

**ë°ì´í„° ì¤€ë¹„**:
```
data/processed/
â”œâ”€â”€ 1118_features_cleaned.csv          # ì •ìƒ ë°ì´í„°
â”œâ”€â”€ 1118_features_fluctuating_cleaned.csv
â””â”€â”€ 1118_features_misalignment_cleaned.csv  # unbalanceë¡œ ëŒ€ì²´ ì˜ˆì •
```

**í•™ìŠµ ê²°ê³¼**:
```
models/
â”œâ”€â”€ mlp_classifier.pth        # PyTorch ì²´í¬í¬ì¸íŠ¸
â”œâ”€â”€ mlp_classifier.pt         # TorchScript (ìµœì í™”)
â”œâ”€â”€ scaler_mlp.pkl            # StandardScaler
â””â”€â”€ data_split.npz            # Train/Test split
```

### 3. Isolation Forest í•™ìŠµ

```bash
jupyter notebook train_isolation_forest.ipynb
```

**í•™ìŠµ ë°ì´í„°**: ì •ìƒ ë°ì´í„°ë§Œ ì‚¬ìš©
```python
INPUT_FEATURES = 'data/processed/1118_features_cleaned.csv'
```

**ëª¨ë¸ ì €ì¥**:
```
models/
â”œâ”€â”€ isolation_forest.joblib
â””â”€â”€ scaler_if.joblib
```

### 4. ì˜ˆì¸¡ ë° í‰ê°€

#### MLP ì˜ˆì¸¡
```bash
jupyter notebook predict_mlp.ipynb
```

**ì¶œë ¥**:
```
results/mlp/
â””â”€â”€ 1118_features_fluctuating_yellow_cleaned_predicted.csv
```

ì¶œë ¥ CSV êµ¬ì¡°:
| window_id | start_time | end_time | prob_fluctuating | prob_unbalance | anomaly_vector_norm | pred_label |
|-----------|------------|----------|------------------|----------------|---------------------|------------|
| 0 | 0.0 | 10.0 | 0.85 | 0.12 | 0.86 | fluctuating |

#### Isolation Forest ì˜ˆì¸¡
```bash
jupyter notebook predict_isolation_forest.ipynb
```

**ì¶œë ¥**:
```
results/isolation_forest/
â””â”€â”€ predictions.csv
```

### 5. ì£¼ê°„ ë³´ê³ ì„œ ìƒì„±

```bash
jupyter notebook MOBYReportGeneratorV1.ipynb
```

**í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**:
```bash
export GEMINI_API_KEY="your-api-key-here"
```

**ì¶œë ¥**: `MOBY_Weekly_Report_YYYYMMDD_HHMMSS.md`

---

## ğŸ§  ëª¨ë¸ ì•„í‚¤í…ì²˜

### MLP Classifier (Multi-Label)

```
Input (15)
   â†“
FC1 (64) + ReLU
   â†“
FC2 (32) + ReLU
   â†“
FC3 (2) + Sigmoid
   â†“
Output [prob_fluctuating, prob_unbalance]
```

**í•™ìŠµ íŒŒë¼ë¯¸í„°**:
- Optimizer: Adam (lr=0.001)
- Loss: BCELoss (Binary Cross-Entropy)
- Epochs: 20
- Batch size: 32

**ì¶œë ¥ í•´ì„**:
- `[0, 0]`: ì •ìƒ
- `[1, 0]`: Speed fluctuating
- `[0, 1]`: Unbalance
- `[1, 1]`: ë³µí•© ì´ìƒ (composite)

**ì´ìƒë„ ë²¡í„°**:
```python
anomaly_vector_norm = sqrt(prob_fluctuating^2 + prob_unbalance^2)
```

### Isolation Forest

**íŒŒë¼ë¯¸í„°**:
- `n_estimators`: 100
- `contamination`: 'auto'
- `max_samples`: 'auto'

**ì´ìƒ íŒì •**:
- Score < threshold â†’ Anomaly (-1)
- Score â‰¥ threshold â†’ Normal (1)

---

## ğŸ“Š íŠ¹ì§• ì¶”ì¶œ

### V17 ìµœì í™” (í˜„ì¬ ë²„ì „)

**ìµœì í™” ë‚´ì—­**:
- íŠ¹ì§• ê°œìˆ˜: 77 â†’ 15 (81% ê°ì†Œ)
- FFT í˜¸ì¶œ: 6 â†’ 1 (83% ê°ì†Œ)
- ì²˜ë¦¬ ì†ë„: ~60-65% í–¥ìƒ

### ì„¼ì„œë³„ íŠ¹ì§•

#### ê°€ì†ë„ê³„ (MPU-6050, 3ì¶•) â†’ 9ê°œ íŠ¹ì§•
1. **VectorRMS**: ì „ì²´ ì§„ë™ ì—ë„ˆì§€ (ë°©í–¥ ë¬´ê´€)
2. **PC1_PeakToPeak**: ì£¼ì„±ë¶„ ìµœëŒ€ ì§„í­
3. **VectorCrestFactor**: ì¶©ê²©ë„ (peak / RMS)
4. **PC1_DominantFreq**: ì£¼ì„±ë¶„ì˜ ì§€ë°° ì£¼íŒŒìˆ˜
5. **PC1_RMSF**: Root Mean Square Frequency (ê³ ì£¼íŒŒ ì´ë™ ê°ì§€)
6. **PC1_VarianceRatio**: ì£¼ì„±ë¶„ ì„¤ëª…ë ¥ (ë‹¨ì¼ì¶• ì§€ë°°ë„)
7-9. **PC1_Direction_X/Y/Z**: ì£¼ì„±ë¶„ ë°©í–¥ ë²¡í„°

#### ìì´ë¡œìŠ¤ì½”í”„ (MPU-6050, 3ì¶•) â†’ 4ê°œ íŠ¹ì§•
1. **VectorRMS**: ì´ ê°ì†ë„ ë¶ˆì•ˆì •ì„±
2-4. **STD_X/Y/Z**: ê° ì¶•ë³„ íšŒì „ ì†ë„ ë³€ë™ì„±

#### í™˜ê²½ ì„¼ì„œ â†’ 2ê°œ íŠ¹ì§•
1. **Pressure_Mean**: ê¸°ì•• í‰ê· 
2. **Temperature_Mean**: ì˜¨ë„ í‰ê· 

### ìœˆë„ìš° ì²˜ë¦¬

```python
WINDOW_SIZE = 10.0  # ì´ˆ
WINDOW_OVERLAP = 5.0  # ì´ˆ
# â†’ 5ì´ˆë§ˆë‹¤ ìƒˆë¡œìš´ ì˜ˆì¸¡
```

**ë™ê¸°í™”**:
- ë‹¤ì¤‘ ì„¼ì„œ CSVë¥¼ `78.125ms` (~12.8Hz)ë¡œ ë¦¬ìƒ˜í”Œë§
- Outer joinìœ¼ë¡œ ë³‘í•© í›„ NaN ë³´ê°„

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### íŠ¹ì§• ì¶”ì¶œ ìµœì í™”

| í•­ëª© | V14 | V17 | ê°œì„ ìœ¨ |
|------|-----|-----|--------|
| íŠ¹ì§• ê°œìˆ˜ | 77 | 15 | 81% â†“ |
| FFT í˜¸ì¶œ/ìœˆë„ìš° | 6 | 1 | 83% â†“ |
| ì²˜ë¦¬ ì†ë„ | ê¸°ì¤€ | 2.9ë°° | 190% â†‘ |

**í•µì‹¬ ê¸°ë²•**:
1. **PCA**: 3ì¶• â†’ 1 ì£¼ì„±ë¶„ (FFT 67% ê°ì†Œ)
2. **FFT ì¬ì‚¬ìš©**: DominantFreq + RMSFë¥¼ í•œ ë²ˆì˜ FFTë¡œ ê³„ì‚°
3. **ë²¡í„° ìŠ¤ì¹¼ë¼í™”**: ë¶ˆí•„ìš”í•œ sqrt ì—°ì‚° ì œê±°

### ì¶”ë¡  ìµœì í™” (ONNX)

| í™˜ê²½ | PyTorch | ONNX Runtime | ê°œì„ ìœ¨ |
|------|---------|--------------|--------|
| Raspberry Pi 4 | ê¸°ì¤€ | 2-3ë°° ë¹ ë¦„ | ~150% â†‘ |
| ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ | ê¸°ì¤€ | 30-40% ê°ì†Œ | - |

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
MOBY-analysis/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/                    # InfluxDB CSV ì›ë³¸
â”‚   â”‚   â””â”€â”€ 1120 sensor_data/
â”‚   â””â”€â”€ processed/              # íŠ¹ì§• ë²¡í„° CSV
â”‚       â””â”€â”€ 1120_features.csv
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ feature_extractor.py   # íŠ¹ì§• ì¶”ì¶œ V17
â”‚   â””â”€â”€ predict_if.py           # Isolation Forest ì˜ˆì¸¡
â”‚
â”œâ”€â”€ models/                     # í•™ìŠµëœ ëª¨ë¸
â”‚   â”œâ”€â”€ mlp_classifier.pth
â”‚   â”œâ”€â”€ mlp_classifier.pt       # TorchScript
â”‚   â”œâ”€â”€ isolation_forest.joblib
â”‚   â”œâ”€â”€ scaler_mlp.pkl
â”‚   â””â”€â”€ scaler_if.joblib
â”‚
â”œâ”€â”€ results/                    # ì˜ˆì¸¡ ê²°ê³¼ ë° ë¶„ì„
â”‚   â”œâ”€â”€ mlp/
â”‚   â”‚   â””â”€â”€ *_predicted.csv
â”‚   â””â”€â”€ isolation_forest/
â”‚       â””â”€â”€ predictions.csv
â”‚
â”œâ”€â”€ docs/                       # ê¸°ìˆ  ë¬¸ì„œ
â”‚   â”œâ”€â”€ feature_extraction.md
â”‚   â””â”€â”€ feature_extraction_V15.md
â”‚
â”œâ”€â”€ notebooks/                  # Jupyter Notebooks
â”‚   â”œâ”€â”€ feature_extraction.ipynb
â”‚   â”œâ”€â”€ train_mlp.ipynb
â”‚   â”œâ”€â”€ train_isolation_forest.ipynb
â”‚   â”œâ”€â”€ predict_mlp.ipynb
â”‚   â”œâ”€â”€ predict_isolation_forest.ipynb
â”‚   â”œâ”€â”€ plot_features.ipynb
â”‚   â”œâ”€â”€ plot_anomaly.ipynb
â”‚   â””â”€â”€ MOBYReportGeneratorV1.ipynb
â”‚
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

---

## ğŸ”— ê´€ë ¨ ë ˆí¬ì§€í† ë¦¬

MOBY í”„ë¡œì íŠ¸ëŠ” 4ê°œì˜ ë ˆí¬ì§€í† ë¦¬ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

| ë ˆí¬ì§€í† ë¦¬ | ì—­í•  | ì£¼ìš” ê¸°ìˆ  |
|-----------|------|----------|
| **MOBY-analysis** (í˜„ì¬) | ëª¨ë¸ í•™ìŠµ & ë¶„ì„ | PyTorch, scikit-learn, ONNX |
| **moby-edge** | ì—£ì§€ ì¶”ë¡  | Raspberry Pi 4, ONNX Runtime, Python |
| **MOBY-Backend** | ë°±ì—”ë“œ ì„œë²„ | FastAPI, PostgreSQL, InfluxDB |
| **Moby-web** | ì›¹ ëŒ€ì‹œë³´ë“œ | React.js, Chart.js |

---

## ğŸ¤ ê¸°ì—¬ ê°€ì´ë“œ

### ë¸Œëœì¹˜ ì „ëµ
- `main`: í”„ë¡œë•ì…˜ ì•ˆì • ë²„ì „
- `develop`: ê°œë°œ ì¤‘ì¸ ê¸°ëŠ¥
- `feature/*`: ìƒˆë¡œìš´ ê¸°ëŠ¥ ê°œë°œ

### ì½”ë“œ ìŠ¤íƒ€ì¼
- Python: PEP 8
- Docstring: Google Style
- Type hints ê¶Œì¥

### ìƒˆë¡œìš´ íŠ¹ì§• ì¶”ê°€ ì‹œ
1. `src/feature_extractor.py`ì˜ `FEATURE_CONFIG_V17` ìˆ˜ì •
2. íŠ¹ì§• ê³„ì‚° í•¨ìˆ˜ êµ¬í˜„
3. `docs/feature_extraction_V*.md` ë¬¸ì„œí™”
4. ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ìˆ˜í–‰

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License

---

## ğŸ“§ ë¬¸ì˜

WISE Team, Project MOBY

- ì´ìŠˆ íŠ¸ë˜ì»¤: [GitHub Issues](https://github.com/your-org/MOBY-analysis/issues)
- ì´ë©”ì¼: wise-moby@example.com

---

## ğŸ“ˆ ë¡œë“œë§µ

### v1.0 (í˜„ì¬)
- [x] íŠ¹ì§• ì¶”ì¶œ íŒŒì´í”„ë¼ì¸ V17
- [x] MLP ë‹¤ì¤‘ ë ˆì´ë¸” ë¶„ë¥˜
- [x] Isolation Forest novelty detection
- [x] ONNX ë³€í™˜ ì§€ì›

### v1.1 (ê³„íš)
- [ ] Unbalance ì´ìƒ ë°ì´í„° ìˆ˜ì§‘ ë° í•™ìŠµ
- [ ] Bearing defect ì¶”ê°€ í´ë˜ìŠ¤
- [ ] ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° íŠ¹ì§• ì¶”ì¶œ
- [ ] AutoML í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹

### v2.0 (ì¥ê¸°)
- [ ] Transformer ê¸°ë°˜ ì‹œê³„ì—´ ëª¨ë¸
- [ ] ì—°í•© í•™ìŠµ (Federated Learning)
- [ ] Edge TPU ì§€ì›

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-23
